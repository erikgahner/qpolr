<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Quantitative Politics with R</title>
  <meta name="description" content="Quantitative Politics with R">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Quantitative Politics with R" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Quantitative Politics with R" />
  
  
  

<meta name="author" content="Erik Gahner Larsen and Zoltán Fazekas">


<meta name="date" content="2018-07-12">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="3-data.html">
<link rel="next" href="5-dataviz.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./"></a></li>
<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#why-r"><i class="fa fa-check"></i><b>1.1</b> Why <code>R</code>?</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#installing-r"><i class="fa fa-check"></i><b>1.2</b> Installing <code>R</code></a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#installing-rstudio"><i class="fa fa-check"></i><b>1.3</b> Installing RStudio</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#installing-r-packages"><i class="fa fa-check"></i><b>1.4</b> Installing <code>R</code> packages</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#errors-and-help"><i class="fa fa-check"></i><b>1.5</b> Errors and help</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="2-basics.html"><a href="2-basics.html"><i class="fa fa-check"></i><b>2</b> Basics</a><ul>
<li class="chapter" data-level="2.1" data-path="2-basics.html"><a href="2-basics.html#numbers-as-data"><i class="fa fa-check"></i><b>2.1</b> Numbers as data</a></li>
<li class="chapter" data-level="2.2" data-path="2-basics.html"><a href="2-basics.html#missing-values-na"><i class="fa fa-check"></i><b>2.2</b> Missing values (<code>NA</code>)</a></li>
<li class="chapter" data-level="2.3" data-path="2-basics.html"><a href="2-basics.html#logical-operators"><i class="fa fa-check"></i><b>2.3</b> Logical operators</a></li>
<li class="chapter" data-level="2.4" data-path="2-basics.html"><a href="2-basics.html#text-as-data"><i class="fa fa-check"></i><b>2.4</b> Text as data</a></li>
<li class="chapter" data-level="2.5" data-path="2-basics.html"><a href="2-basics.html#data-frames"><i class="fa fa-check"></i><b>2.5</b> Data frames</a></li>
<li class="chapter" data-level="2.6" data-path="2-basics.html"><a href="2-basics.html#import-and-export-data-frames"><i class="fa fa-check"></i><b>2.6</b> Import and export data frames</a></li>
<li class="chapter" data-level="2.7" data-path="2-basics.html"><a href="2-basics.html#environment"><i class="fa fa-check"></i><b>2.7</b> Environment</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="3-data.html"><a href="3-data.html"><i class="fa fa-check"></i><b>3</b> Data management</a><ul>
<li class="chapter" data-level="3.1" data-path="3-data.html"><a href="3-data.html#selecting-variables-select"><i class="fa fa-check"></i><b>3.1</b> Selecting variables: <code>select()</code></a></li>
<li class="chapter" data-level="3.2" data-path="3-data.html"><a href="3-data.html#selecting-observations-filter"><i class="fa fa-check"></i><b>3.2</b> Selecting observations: <code>filter()</code></a></li>
<li class="chapter" data-level="3.3" data-path="3-data.html"><a href="3-data.html#sorting-observations-arrange"><i class="fa fa-check"></i><b>3.3</b> Sorting observations: <code>arrange()</code></a></li>
<li class="chapter" data-level="3.4" data-path="3-data.html"><a href="3-data.html#rename-variables-rename"><i class="fa fa-check"></i><b>3.4</b> Rename variables: <code>rename()</code></a></li>
<li class="chapter" data-level="3.5" data-path="3-data.html"><a href="3-data.html#create-variables-mutate"><i class="fa fa-check"></i><b>3.5</b> Create variables: <code>mutate()</code></a></li>
<li class="chapter" data-level="3.6" data-path="3-data.html"><a href="3-data.html#the-pipe-operator"><i class="fa fa-check"></i><b>3.6</b> The pipe operator: <code>%&gt;%</code></a></li>
<li class="chapter" data-level="3.7" data-path="3-data.html"><a href="3-data.html#running-functions-on-variables-apply"><i class="fa fa-check"></i><b>3.7</b> Running functions on variables: <code>apply()</code></a></li>
<li class="chapter" data-level="3.8" data-path="3-data.html"><a href="3-data.html#aggregating-variables-summarize-and-group_by"><i class="fa fa-check"></i><b>3.8</b> Aggregating variables: <code>summarize()</code> and <code>group_by()</code></a></li>
<li class="chapter" data-level="3.9" data-path="3-data.html"><a href="3-data.html#recoding-variables-recode"><i class="fa fa-check"></i><b>3.9</b> Recoding variables: <code>recode()</code></a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="4-datadownload.html"><a href="4-datadownload.html"><i class="fa fa-check"></i><b>4</b> Getting data</a><ul>
<li class="chapter" data-level="4.1" data-path="4-datadownload.html"><a href="4-datadownload.html#using-data-from-data-packages"><i class="fa fa-check"></i><b>4.1</b> Using data from data packages</a></li>
<li class="chapter" data-level="4.2" data-path="4-datadownload.html"><a href="4-datadownload.html#download-data-from-webpages"><i class="fa fa-check"></i><b>4.2</b> Download data from webpages</a></li>
<li class="chapter" data-level="4.3" data-path="4-datadownload.html"><a href="4-datadownload.html#data-european-social-survey-essurvey"><i class="fa fa-check"></i><b>4.3</b> Data: European Social Survey (<code>essurvey</code>)</a></li>
<li class="chapter" data-level="4.4" data-path="4-datadownload.html"><a href="4-datadownload.html#data-manifesto-project-dataset-manifestor"><i class="fa fa-check"></i><b>4.4</b> Data: Manifesto Project Dataset (<code>manifestoR</code>)</a></li>
<li class="chapter" data-level="4.5" data-path="4-datadownload.html"><a href="4-datadownload.html#data-varieties-of-democracy-vdem"><i class="fa fa-check"></i><b>4.5</b> Data: Varieties of Democracy (<code>vdem</code>)</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="5-dataviz.html"><a href="5-dataviz.html"><i class="fa fa-check"></i><b>5</b> Data visualisation</a><ul>
<li class="chapter" data-level="5.1" data-path="5-dataviz.html"><a href="5-dataviz.html#the-basics-of-ggplot2"><i class="fa fa-check"></i><b>5.1</b> The basics of <code>ggplot2</code></a><ul>
<li class="chapter" data-level="5.1.1" data-path="3-data.html"><a href="3-data.html#data"><i class="fa fa-check"></i><b>5.1.1</b> Data</a></li>
<li class="chapter" data-level="5.1.2" data-path="5-dataviz.html"><a href="5-dataviz.html#aesthetics"><i class="fa fa-check"></i><b>5.1.2</b> Aesthetics</a></li>
<li class="chapter" data-level="5.1.3" data-path="5-dataviz.html"><a href="5-dataviz.html#geometric-objects"><i class="fa fa-check"></i><b>5.1.3</b> Geometric objects</a></li>
<li class="chapter" data-level="5.1.4" data-path="5-dataviz.html"><a href="5-dataviz.html#theme-adjustments"><i class="fa fa-check"></i><b>5.1.4</b> Theme adjustments</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="5-dataviz.html"><a href="5-dataviz.html#plotting-one-variable-distributions"><i class="fa fa-check"></i><b>5.2</b> Plotting one variable: distributions</a><ul>
<li class="chapter" data-level="5.2.1" data-path="5-dataviz.html"><a href="5-dataviz.html#bar-plot"><i class="fa fa-check"></i><b>5.2.1</b> Bar plot</a></li>
<li class="chapter" data-level="5.2.2" data-path="5-dataviz.html"><a href="5-dataviz.html#histograms"><i class="fa fa-check"></i><b>5.2.2</b> Histograms</a></li>
<li class="chapter" data-level="5.2.3" data-path="5-dataviz.html"><a href="5-dataviz.html#density-plots"><i class="fa fa-check"></i><b>5.2.3</b> Density plots</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="5-dataviz.html"><a href="5-dataviz.html#plotting-two-variables-relationships"><i class="fa fa-check"></i><b>5.3</b> Plotting two variables: relationships</a><ul>
<li class="chapter" data-level="5.3.1" data-path="5-dataviz.html"><a href="5-dataviz.html#box-plot"><i class="fa fa-check"></i><b>5.3.1</b> Box plot</a></li>
<li class="chapter" data-level="5.3.2" data-path="5-dataviz.html"><a href="5-dataviz.html#scatter-plots"><i class="fa fa-check"></i><b>5.3.2</b> Scatter plots</a></li>
<li class="chapter" data-level="5.3.3" data-path="5-dataviz.html"><a href="5-dataviz.html#line-plots"><i class="fa fa-check"></i><b>5.3.3</b> Line plots</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="5-dataviz.html"><a href="5-dataviz.html#manipulating-plots"><i class="fa fa-check"></i><b>5.4</b> Manipulating plots</a><ul>
<li class="chapter" data-level="5.4.1" data-path="5-dataviz.html"><a href="5-dataviz.html#themes"><i class="fa fa-check"></i><b>5.4.1</b> Themes</a></li>
<li class="chapter" data-level="5.4.2" data-path="5-dataviz.html"><a href="5-dataviz.html#colours"><i class="fa fa-check"></i><b>5.4.2</b> Colours</a></li>
<li class="chapter" data-level="5.4.3" data-path="5-dataviz.html"><a href="5-dataviz.html#labels"><i class="fa fa-check"></i><b>5.4.3</b> Labels</a></li>
<li class="chapter" data-level="5.4.4" data-path="5-dataviz.html"><a href="5-dataviz.html#axes"><i class="fa fa-check"></i><b>5.4.4</b> Axes</a></li>
<li class="chapter" data-level="5.4.5" data-path="5-dataviz.html"><a href="5-dataviz.html#confidence-intervals"><i class="fa fa-check"></i><b>5.4.5</b> Confidence intervals</a></li>
<li class="chapter" data-level="5.4.6" data-path="5-dataviz.html"><a href="5-dataviz.html#making-multiple-plots-in-one"><i class="fa fa-check"></i><b>5.4.6</b> Making multiple plots in one</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="5-dataviz.html"><a href="5-dataviz.html#saving-plots"><i class="fa fa-check"></i><b>5.5</b> Saving plots</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="6-references.html"><a href="6-references.html"><i class="fa fa-check"></i><b>6</b> References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Quantitative Politics with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="datadownload" class="section level1">
<h1><span class="header-section-number">Chapter 4</span> Getting data</h1>
<p>There are multiple ways you can get data into <code>R</code>. In this chapter we introduce different strategies for getting data into <code>R</code> from a variety of political data sources. First, we look at data included in packages. Second, we show how you can find datasets online and introduce a resource with a lot of links to political datasets. Third, we introduce a series of different packages that makes it easy to get data into <code>R</code>.</p>
<p>Throughout the chapter we will use the <code>tidyverse</code> package so make sure to load this.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;tidyverse&quot;</span>)</code></pre></div>
<div id="using-data-from-data-packages" class="section level2">
<h2><span class="header-section-number">4.1</span> Using data from data packages</h2>
<p>A lot of the packages we are working with, including packages in the <code>tidyverse</code>, include datasets. To illustrate this, we will be using the package <code>poliscidata</code>.<a href="#fn8" class="footnoteRef" id="fnref8"><sup>8</sup></a> The first thing we will need to do is to install the package.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">&quot;poliscidata&quot;</span>)</code></pre></div>
<p>Next, we will need to load the package with <code>library()</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;poliscidata&quot;</span>)</code></pre></div>
<p>There are multiple datasets in the <code>poliscidata</code> package. We will focus on the dataset <code>states</code>, a dataset with variables about the 50 states in the United States. We use the function <code>names()</code> to get a list of all variables in the data frame states (it takes up a lot of space but gives an indication of the variety of variables in the data frame).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">names</span>(states)</code></pre></div>
<pre><code>  [1] &quot;abort_rank3&quot;       &quot;abortion_rank12&quot;   &quot;adv_or_more&quot;      
  [4] &quot;ba_or_more&quot;        &quot;cig_tax12&quot;         &quot;cig_tax12_3&quot;      
  [7] &quot;conserv_advantage&quot; &quot;conserv_public&quot;    &quot;dem_advantage&quot;    
 [10] &quot;govt_worker&quot;       &quot;gun_rank3&quot;         &quot;gun_rank11&quot;       
 [13] &quot;gun_scale11&quot;       &quot;hr_cons_rank11&quot;    &quot;hr_conserv11&quot;     
 [16] &quot;hr_lib_rank11&quot;     &quot;hr_liberal11&quot;      &quot;hs_or_more&quot;       
 [19] &quot;obama2012&quot;         &quot;obama_win12&quot;       &quot;pop2000&quot;          
 [22] &quot;pop2010&quot;           &quot;pop2010_hun_thou&quot;  &quot;popchng0010&quot;      
 [25] &quot;popchngpct&quot;        &quot;pot_policy&quot;        &quot;prochoice&quot;        
 [28] &quot;prolife&quot;           &quot;relig_cath&quot;        &quot;relig_prot&quot;       
 [31] &quot;relig_high&quot;        &quot;relig_low&quot;         &quot;religiosity3&quot;     
 [34] &quot;romney2012&quot;        &quot;smokers12&quot;         &quot;stateid&quot;          
 [37] &quot;to_0812&quot;           &quot;uninsured_pct&quot;     &quot;abort_rate05&quot;     
 [40] &quot;abort_rate08&quot;      &quot;abortlaw3&quot;         &quot;abortlaw10&quot;       
 [43] &quot;alcohol&quot;           &quot;attend_pct&quot;        &quot;battle04&quot;         
 [46] &quot;blkleg&quot;            &quot;blkpct04&quot;          &quot;blkpct08&quot;         
 [49] &quot;blkpct10&quot;          &quot;bush00&quot;            &quot;bush04&quot;           
 [52] &quot;carfatal&quot;          &quot;carfatal07&quot;        &quot;cig_tax&quot;          
 [55] &quot;cig_tax_3&quot;         &quot;cigarettes&quot;        &quot;college&quot;          
 [58] &quot;conpct_m&quot;          &quot;cons_hr06&quot;         &quot;cons_hr09&quot;        
 [61] &quot;cook_index&quot;        &quot;cook_index3&quot;       &quot;defexpen&quot;         
 [64] &quot;demhr11&quot;           &quot;dem_hr09&quot;          &quot;demnat06&quot;         
 [67] &quot;dempct_m&quot;          &quot;demstate06&quot;        &quot;demstate09&quot;       
 [70] &quot;demstate13&quot;        &quot;density&quot;           &quot;division&quot;         
 [73] &quot;earmarks_pcap&quot;     &quot;evm&quot;               &quot;evo&quot;              
 [76] &quot;evo2012&quot;           &quot;evr2012&quot;           &quot;gay_policy&quot;       
 [79] &quot;gay_policy2&quot;       &quot;gay_policy_con&quot;    &quot;gay_support&quot;      
 [82] &quot;gay_support3&quot;      &quot;gb_win00&quot;          &quot;gb_win04&quot;         
 [85] &quot;gore00&quot;            &quot;gun_check&quot;         &quot;gun_dealer&quot;       
 [88] &quot;gun_murder10&quot;      &quot;gun_rank_rev&quot;      &quot;gunlaw_rank&quot;      
 [91] &quot;gunlaw_rank3_rev&quot;  &quot;gunlaw_scale&quot;      &quot;hispanic04&quot;       
 [94] &quot;hispanic08&quot;        &quot;hispanic10&quot;        &quot;indpct_m&quot;         
 [97] &quot;kerry04&quot;           &quot;libpct_m&quot;          &quot;mccain08&quot;         
[100] &quot;modpct_m&quot;          &quot;nader00&quot;           &quot;obama08&quot;          
[103] &quot;obama_win08&quot;       &quot;over64&quot;            &quot;permit&quot;           
[106] &quot;pop_18_24&quot;         &quot;pop_18_24_10&quot;      &quot;prcapinc&quot;         
[109] &quot;region&quot;            &quot;relig_import&quot;      &quot;religiosity&quot;      
[112] &quot;reppct_m&quot;          &quot;rtw&quot;               &quot;secularism&quot;       
[115] &quot;secularism3&quot;       &quot;seniority_sen2&quot;    &quot;south&quot;            
[118] &quot;state&quot;             &quot;to_0004&quot;           &quot;to_0408&quot;          
[121] &quot;trnout00&quot;          &quot;trnout04&quot;          &quot;unemploy&quot;         
[124] &quot;union04&quot;           &quot;union07&quot;           &quot;union10&quot;          
[127] &quot;urban&quot;             &quot;vep00_turnout&quot;     &quot;vep04_turnout&quot;    
[130] &quot;vep08_turnout&quot;     &quot;vep12_turnout&quot;     &quot;womleg_2007&quot;      
[133] &quot;womleg_2010&quot;       &quot;womleg_2011&quot;       &quot;womleg_2015&quot;      </code></pre>
<p>While the data is available, it is not possible to see in the <em>Environment</em> window. To see the data frame, we can save <code>states</code> in an object of the same name.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">states &lt;-<span class="st"> </span>states</code></pre></div>
<p>Now we can see in the <code>Environment</code> window that we have 50 observations of 135 variables. We will be using this data later, but for now we will see that we have actual data. Using the <code>table()</code> function we can show the distribution of observations in the <code>gay_policy</code> variable, showing data on the Billman’s policy scale (4 ordinal categories).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table</span>(states<span class="op">$</span>gay_policy)</code></pre></div>
<pre><code>
     Most liberal           Liberal      Conservative Most conservative 
                6                14                10                20 </code></pre>
<p>Here we see that 6 states have a most liberal score, 14 have a liberal score, 10 have a conservative score, and 6 have a most conservative score.</p>
</div>
<div id="download-data-from-webpages" class="section level2">
<h2><span class="header-section-number">4.2</span> Download data from webpages</h2>
<p>A lot of the political datasets you will find are available online and can be downloaded for free. A free resource with an overview of political datasets can be found here: <a href="https://github.com/erikgahner/PolData" class="uri">https://github.com/erikgahner/PolData</a></p>
<p>In this dataset with political datasets, you can find datasets from different topics (international relations, political institutions, democracy etc.). For each dataset you will also be able to see whether it is possible to download the data for free, and if so, what the link to the dataset is.</p>
<p>To illustrate this, we can find the link to download the Global Media Freedom dataset. The dataset is available as a <code>.csv</code> file and get into <code>R</code> with the <code>read.csv()</code> function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gmd &lt;-<span class="st"> </span><span class="kw">read.csv</span>(
  <span class="st">&quot;http://faculty.uml.edu/Jenifer_whittenwoodring/GMFD_V2.csv&quot;</span>
  )</code></pre></div>
<p>The dataset consists of the following four variables: <code>id</code>, <code>year</code>, <code>country</code>, <code>mediascore</code>.</p>
<p>In the next sections, we will introduce different packages, that can make it easier to work with different datasets.</p>
</div>
<div id="data-european-social-survey-essurvey" class="section level2">
<h2><span class="header-section-number">4.3</span> Data: European Social Survey (<code>essurvey</code>)</h2>
<p>To get data from European Social Survey (ESS), we will be using the <code>essurvey</code> package. If you do not have a free user, the first step is to go online and create a user: <a href="http://www.europeansocialsurvey.org/user/new" class="uri">http://www.europeansocialsurvey.org/user/new</a></p>
<p>The next thing you need to do is to install the package.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">&quot;essurvey&quot;</span>)</code></pre></div>
<p>And then load the package.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;essurvey&quot;</span>)</code></pre></div>
<p>Now you need to set the email you used to register an account. If you don’t do this, ESS will not be able to confirm that you have an account, and you will not be able to get access to the data.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set_email</span>(<span class="st">&quot;your@mail.com&quot;</span>)</code></pre></div>
<p>There are multiple functions to use in order to get data, and for an overview of some of them, check out <a href="https://ropensci.github.io/essurvey/" class="uri">https://ropensci.github.io/essurvey/</a>.</p>
<p>Here, we will provide an example on how to reproduce the main result in <span class="citation">Larsen (2018)</span>. Here we use the <code>import_country()</code> function to import data from Denmark in Round 6 of the ESS.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ess &lt;-<span class="st"> </span><span class="kw">import_country</span>(<span class="st">&quot;Denmark&quot;</span>, <span class="dv">6</span>)</code></pre></div>
<p>All the recodings are made with the <code>mutate()</code> function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ess &lt;-<span class="st"> </span>ess <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(
    <span class="dt">stfgov =</span> <span class="kw">ifelse</span>(stfgov <span class="op">&gt;</span><span class="st"> </span><span class="dv">10</span>, <span class="ot">NA</span>, stfgov),
    <span class="dt">reform =</span> <span class="kw">case_when</span>(inwmme <span class="op">&lt;</span><span class="st"> </span><span class="dv">2</span> <span class="op">~</span><span class="st"> </span><span class="dv">0</span>,
                       inwmme <span class="op">==</span><span class="st"> </span><span class="dv">2</span> <span class="op">&amp;</span><span class="st"> </span>inwdde <span class="op">&lt;</span><span class="st"> </span><span class="dv">19</span> <span class="op">~</span><span class="st"> </span><span class="dv">0</span>,
                       inwmme <span class="op">==</span><span class="st"> </span><span class="dv">2</span> <span class="op">&amp;</span><span class="st"> </span>inwdde <span class="op">&gt;</span><span class="st"> </span><span class="dv">19</span> <span class="op">~</span><span class="st"> </span><span class="dv">1</span>,
                       inwmme <span class="op">&gt;</span><span class="st"> </span><span class="dv">2</span> <span class="op">~</span><span class="st"> </span><span class="dv">1</span>,
                       <span class="ot">TRUE</span> <span class="op">~</span><span class="st"> </span><span class="ot">NA_real_</span>)
  )</code></pre></div>
<p>And the regression model can be achieved with the <code>lm()</code> function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">lm</span>(stfgov <span class="op">~</span><span class="st"> </span>reform, <span class="dt">data=</span>ess)</code></pre></div>
</div>
<div id="data-manifesto-project-dataset-manifestor" class="section level2">
<h2><span class="header-section-number">4.4</span> Data: Manifesto Project Dataset (<code>manifestoR</code>)</h2>
<p>To use data from the Manifesto Project Dataset, you need to create an account as well. This can be done at: <a href="https://manifesto-project.wzb.eu/signup" class="uri">https://manifesto-project.wzb.eu/signup</a></p>
<p>Next, install and load the package.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># install the package</span>
<span class="kw">install.packages</span>(<span class="st">&quot;manifestoR&quot;</span>)

<span class="co"># load the package</span>
<span class="kw">library</span>(<span class="st">&quot;manifestoR&quot;</span>)</code></pre></div>
<p>You now need to go to your profile page at <a href="https://manifesto-project.wzb.eu/" class="uri">https://manifesto-project.wzb.eu/</a>. You will need to click on the button to get an API key. You can now click ‘download API Key file (txt)’ and place this file in your working directory - or copy your key and use the code below.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mp_setapikey</span>(<span class="dt">key =</span> <span class="st">&quot;yourKeyHere&quot;</span>)</code></pre></div>
<p>You are now able to download text data from the Manifesto Project into <code>R</code>. We use the <code>mp_corpus()</code> function to download election programmes texts and codings, in this case from Denmark.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">manifesto_dk &lt;-<span class="st"> </span><span class="kw">mp_corpus</span>(countryname <span class="op">==</span><span class="st"> &quot;Denmark&quot;</span>)</code></pre></div>
<p>To see some of the content from the manifesto data, you can try the code below.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(<span class="kw">content</span>(manifesto_dk[[<span class="dv">1</span>]]))</code></pre></div>
<p>If you want to find a more detailed description of how to look at the data, please see <a href="https://cran.r-project.org/web/packages/manifestoR/vignettes/manifestoRworkflow.pdf" class="uri">https://cran.r-project.org/web/packages/manifestoR/vignettes/manifestoRworkflow.pdf</a>.</p>
</div>
<div id="data-varieties-of-democracy-vdem" class="section level2">
<h2><span class="header-section-number">4.5</span> Data: Varieties of Democracy (<code>vdem</code>)</h2>
<p>To get data from Varieties of Democracy into <code>R</code>, we are going to use the <code>vdem</code> package. This package is not on <code>CRAN</code>, and accordingly, we cannot use <code>install.packages()</code> to install it. Instead, we will have to use the function <code>install_github()</code> as it is on GitHub. In order to do this, you need to have the package <code>devtools</code>. To install this package, you can uncomment the first line below. The second line says that we are using the <code>install_github()</code> function from the <code>devtools</code> package (with <code>::</code>).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#install.packages(&quot;devtools&quot;)</span>
devtools<span class="op">::</span><span class="kw">install_github</span>(<span class="st">&quot;xmarquez/vdem&quot;</span>)</code></pre></div>
<p>When the package is installed, use <code>library()</code> to load it.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;vdem&quot;</span>)</code></pre></div>
<p>To get the main democracy indices from the data, we can use the <code>extract_vdem()</code> function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">vdem_data &lt;-<span class="st"> </span><span class="kw">extract_vdem</span>(<span class="dt">section_number =</span> <span class="dv">1</span>)</code></pre></div>
<p>This gives us a dataset with 17,604 observations of 55 variables. To see the first observations, use <code>head()</code> (output not shown).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(vdem_data)</code></pre></div>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="8">
<li id="fn8"><p>For more information on the package and the included packages, see: <a href="https://cran.r-project.org/web/packages/poliscidata/poliscidata.pdf" class="uri">https://cran.r-project.org/web/packages/poliscidata/poliscidata.pdf</a><a href="4-datadownload.html#fnref8">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="3-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="5-dataviz.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": [["qpolr.pdf", "PDF"]],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>

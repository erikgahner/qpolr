<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Quantitative Politics with R</title>
  <meta name="description" content="Quantitative Politics with R">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Quantitative Politics with R" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Quantitative Politics with R" />
  
  
  

<meta name="author" content="Erik Gahner Larsen and Zoltán Fazekas">


<meta name="date" content="2018-07-12">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="index.html">
<link rel="next" href="3-data.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./"></a></li>
<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#why-r"><i class="fa fa-check"></i><b>1.1</b> Why <code>R</code>?</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#installing-r"><i class="fa fa-check"></i><b>1.2</b> Installing <code>R</code></a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#installing-rstudio"><i class="fa fa-check"></i><b>1.3</b> Installing RStudio</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#installing-r-packages"><i class="fa fa-check"></i><b>1.4</b> Installing <code>R</code> packages</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#errors-and-help"><i class="fa fa-check"></i><b>1.5</b> Errors and help</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="2-basics.html"><a href="2-basics.html"><i class="fa fa-check"></i><b>2</b> Basics</a><ul>
<li class="chapter" data-level="2.1" data-path="2-basics.html"><a href="2-basics.html#numbers-as-data"><i class="fa fa-check"></i><b>2.1</b> Numbers as data</a></li>
<li class="chapter" data-level="2.2" data-path="2-basics.html"><a href="2-basics.html#missing-values-na"><i class="fa fa-check"></i><b>2.2</b> Missing values (<code>NA</code>)</a></li>
<li class="chapter" data-level="2.3" data-path="2-basics.html"><a href="2-basics.html#logical-operators"><i class="fa fa-check"></i><b>2.3</b> Logical operators</a></li>
<li class="chapter" data-level="2.4" data-path="2-basics.html"><a href="2-basics.html#text-as-data"><i class="fa fa-check"></i><b>2.4</b> Text as data</a></li>
<li class="chapter" data-level="2.5" data-path="2-basics.html"><a href="2-basics.html#data-frames"><i class="fa fa-check"></i><b>2.5</b> Data frames</a></li>
<li class="chapter" data-level="2.6" data-path="2-basics.html"><a href="2-basics.html#import-and-export-data-frames"><i class="fa fa-check"></i><b>2.6</b> Import and export data frames</a></li>
<li class="chapter" data-level="2.7" data-path="2-basics.html"><a href="2-basics.html#environment"><i class="fa fa-check"></i><b>2.7</b> Environment</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="3-data.html"><a href="3-data.html"><i class="fa fa-check"></i><b>3</b> Data management</a><ul>
<li class="chapter" data-level="3.1" data-path="3-data.html"><a href="3-data.html#selecting-variables-select"><i class="fa fa-check"></i><b>3.1</b> Selecting variables: <code>select()</code></a></li>
<li class="chapter" data-level="3.2" data-path="3-data.html"><a href="3-data.html#selecting-observations-filter"><i class="fa fa-check"></i><b>3.2</b> Selecting observations: <code>filter()</code></a></li>
<li class="chapter" data-level="3.3" data-path="3-data.html"><a href="3-data.html#sorting-observations-arrange"><i class="fa fa-check"></i><b>3.3</b> Sorting observations: <code>arrange()</code></a></li>
<li class="chapter" data-level="3.4" data-path="3-data.html"><a href="3-data.html#rename-variables-rename"><i class="fa fa-check"></i><b>3.4</b> Rename variables: <code>rename()</code></a></li>
<li class="chapter" data-level="3.5" data-path="3-data.html"><a href="3-data.html#create-variables-mutate"><i class="fa fa-check"></i><b>3.5</b> Create variables: <code>mutate()</code></a></li>
<li class="chapter" data-level="3.6" data-path="3-data.html"><a href="3-data.html#the-pipe-operator"><i class="fa fa-check"></i><b>3.6</b> The pipe operator: <code>%&gt;%</code></a></li>
<li class="chapter" data-level="3.7" data-path="3-data.html"><a href="3-data.html#running-functions-on-variables-apply"><i class="fa fa-check"></i><b>3.7</b> Running functions on variables: <code>apply()</code></a></li>
<li class="chapter" data-level="3.8" data-path="3-data.html"><a href="3-data.html#aggregating-variables-summarize-and-group_by"><i class="fa fa-check"></i><b>3.8</b> Aggregating variables: <code>summarize()</code> and <code>group_by()</code></a></li>
<li class="chapter" data-level="3.9" data-path="3-data.html"><a href="3-data.html#recoding-variables-recode"><i class="fa fa-check"></i><b>3.9</b> Recoding variables: <code>recode()</code></a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="4-datadownload.html"><a href="4-datadownload.html"><i class="fa fa-check"></i><b>4</b> Getting data</a><ul>
<li class="chapter" data-level="4.1" data-path="4-datadownload.html"><a href="4-datadownload.html#using-data-from-data-packages"><i class="fa fa-check"></i><b>4.1</b> Using data from data packages</a></li>
<li class="chapter" data-level="4.2" data-path="4-datadownload.html"><a href="4-datadownload.html#download-data-from-webpages"><i class="fa fa-check"></i><b>4.2</b> Download data from webpages</a></li>
<li class="chapter" data-level="4.3" data-path="4-datadownload.html"><a href="4-datadownload.html#data-european-social-survey-essurvey"><i class="fa fa-check"></i><b>4.3</b> Data: European Social Survey (<code>essurvey</code>)</a></li>
<li class="chapter" data-level="4.4" data-path="4-datadownload.html"><a href="4-datadownload.html#data-manifesto-project-dataset-manifestor"><i class="fa fa-check"></i><b>4.4</b> Data: Manifesto Project Dataset (<code>manifestoR</code>)</a></li>
<li class="chapter" data-level="4.5" data-path="4-datadownload.html"><a href="4-datadownload.html#data-varieties-of-democracy-vdem"><i class="fa fa-check"></i><b>4.5</b> Data: Varieties of Democracy (<code>vdem</code>)</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="5-dataviz.html"><a href="5-dataviz.html"><i class="fa fa-check"></i><b>5</b> Data visualisation</a><ul>
<li class="chapter" data-level="5.1" data-path="5-dataviz.html"><a href="5-dataviz.html#the-basics-of-ggplot2"><i class="fa fa-check"></i><b>5.1</b> The basics of <code>ggplot2</code></a><ul>
<li class="chapter" data-level="5.1.1" data-path="3-data.html"><a href="3-data.html#data"><i class="fa fa-check"></i><b>5.1.1</b> Data</a></li>
<li class="chapter" data-level="5.1.2" data-path="5-dataviz.html"><a href="5-dataviz.html#aesthetics"><i class="fa fa-check"></i><b>5.1.2</b> Aesthetics</a></li>
<li class="chapter" data-level="5.1.3" data-path="5-dataviz.html"><a href="5-dataviz.html#geometric-objects"><i class="fa fa-check"></i><b>5.1.3</b> Geometric objects</a></li>
<li class="chapter" data-level="5.1.4" data-path="5-dataviz.html"><a href="5-dataviz.html#theme-adjustments"><i class="fa fa-check"></i><b>5.1.4</b> Theme adjustments</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="5-dataviz.html"><a href="5-dataviz.html#introducing-the-data-ess_uk.csv"><i class="fa fa-check"></i><b>5.2</b> Introducing the data: <code>ess_uk.csv</code></a></li>
<li class="chapter" data-level="5.3" data-path="5-dataviz.html"><a href="5-dataviz.html#plotting-one-variable-distributions"><i class="fa fa-check"></i><b>5.3</b> Plotting one variable: distributions</a><ul>
<li class="chapter" data-level="5.3.1" data-path="5-dataviz.html"><a href="5-dataviz.html#bar-plot"><i class="fa fa-check"></i><b>5.3.1</b> Bar plot</a></li>
<li class="chapter" data-level="5.3.2" data-path="5-dataviz.html"><a href="5-dataviz.html#histograms"><i class="fa fa-check"></i><b>5.3.2</b> Histograms</a></li>
<li class="chapter" data-level="5.3.3" data-path="5-dataviz.html"><a href="5-dataviz.html#density-plots"><i class="fa fa-check"></i><b>5.3.3</b> Density plots</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="5-dataviz.html"><a href="5-dataviz.html#plotting-two-variables-relationships"><i class="fa fa-check"></i><b>5.4</b> Plotting two variables: relationships</a><ul>
<li class="chapter" data-level="5.4.1" data-path="5-dataviz.html"><a href="5-dataviz.html#box-plot"><i class="fa fa-check"></i><b>5.4.1</b> Box plot</a></li>
<li class="chapter" data-level="5.4.2" data-path="5-dataviz.html"><a href="5-dataviz.html#scatter-plots"><i class="fa fa-check"></i><b>5.4.2</b> Scatter plots</a></li>
<li class="chapter" data-level="5.4.3" data-path="5-dataviz.html"><a href="5-dataviz.html#line-plots"><i class="fa fa-check"></i><b>5.4.3</b> Line plots</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="5-dataviz.html"><a href="5-dataviz.html#manipulating-plots"><i class="fa fa-check"></i><b>5.5</b> Manipulating plots</a><ul>
<li class="chapter" data-level="5.5.1" data-path="5-dataviz.html"><a href="5-dataviz.html#themes"><i class="fa fa-check"></i><b>5.5.1</b> Themes</a></li>
<li class="chapter" data-level="5.5.2" data-path="5-dataviz.html"><a href="5-dataviz.html#colours"><i class="fa fa-check"></i><b>5.5.2</b> Colours</a></li>
<li class="chapter" data-level="5.5.3" data-path="5-dataviz.html"><a href="5-dataviz.html#labels"><i class="fa fa-check"></i><b>5.5.3</b> Labels</a></li>
<li class="chapter" data-level="5.5.4" data-path="5-dataviz.html"><a href="5-dataviz.html#axes"><i class="fa fa-check"></i><b>5.5.4</b> Axes</a></li>
<li class="chapter" data-level="5.5.5" data-path="5-dataviz.html"><a href="5-dataviz.html#confidence-intervals"><i class="fa fa-check"></i><b>5.5.5</b> Confidence intervals</a></li>
<li class="chapter" data-level="5.5.6" data-path="5-dataviz.html"><a href="5-dataviz.html#making-multiple-plots-in-one"><i class="fa fa-check"></i><b>5.5.6</b> Making multiple plots in one</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="5-dataviz.html"><a href="5-dataviz.html#saving-plots"><i class="fa fa-check"></i><b>5.6</b> Saving plots</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="6-references.html"><a href="6-references.html"><i class="fa fa-check"></i><b>6</b> References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Quantitative Politics with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="basics" class="section level1">
<h1><span class="header-section-number">Chapter 2</span> Basics</h1>
<p>Remember that everything you do in <code>R</code> can be written as commands. Repeat what you did in the last chapter from your script window: write <code>2+2</code> and run the code. This should look like the output below.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">2</span><span class="op">+</span><span class="dv">2</span></code></pre></div>
<pre><code>[1] 4</code></pre>
<p>You are now able to conduct simple arithmetics. This shows that <code>R</code> can be used as a calculatur and you can now call yourself an <code>R</code> user. In other words, knowing how to use <code>R</code> is not a binary category where you either can use <code>R</code> or not, but a continuum where you will always be able to learn more. That’s great news!</p>
<div id="numbers-as-data" class="section level2">
<h2><span class="header-section-number">2.1</span> Numbers as data</h2>
<p>Next, we will have to learn about variable assignment and in particular how we can work with <em>objects</em>. Everything you will use in <code>R</code> is saved in objects. This can be everything from a number or a word to complex datasets. A key advantage of this, compared to other statistical programmes, is that you can have multiple datasets open at the same time. If you, for example, want to connect two different surveys, you can have them both loaded in the memory at the same time and work with them. This is not possible in SPSS or Stata.</p>
<p>To save something in an object, we need to use the <em>assignment operator</em>, <code>&lt;-</code>, which basically tells <code>R</code> that anything on the right side of the operator should be assigned to the object on the left side. Let us try to save the number 2 in the object <code>x</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="dv">2</span></code></pre></div>
<p>Now <code>x</code> will return the number 2 whenever we use <code>x</code>. Let us try to use our object in different simple operations. Write the operations below in your <code>R</code>-script and run them individually and see what happens.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x
x <span class="op">*</span><span class="st"> </span><span class="dv">2</span>
x <span class="op">*</span><span class="st"> </span>x 
x <span class="op">+</span><span class="st"> </span>x</code></pre></div>
<p>If it is working, <code>R</code> should return the values <code>2</code>, <code>4</code>, <code>4</code> and <code>4</code>. If you change the object <code>x</code> to have the number 3 instead of 2 and run the script again, you should get a new output.<a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a> This is great as you only need to change a single number to change the output from the whole procedure. Accordingly, when you are working with scripts, try to save as much you can in objects, so you only need to change numbers once, if you want to make changes. This also reduces the likelihood of making mistakes.</p>
<p>We can also use our object to create other objects. In the example below we will create a new object <code>y</code>. This object returns the sum of <code>x</code> and 7.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">y &lt;-<span class="st"> </span>x <span class="op">+</span><span class="st"> </span><span class="dv">7</span></code></pre></div>
<p>One thing to keep in mind is that we do not get the output in <code>y</code> right away. To get the output, we can just write <code>y</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">y</code></pre></div>
<pre><code>[1] 9</code></pre>
<p>Alternatively, when we create the object, we can include it all in a parenthesis as we do below.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">(y &lt;-<span class="st"> </span>x <span class="op">+</span><span class="st"> </span><span class="dv">7</span>)</code></pre></div>
<pre><code>[1] 9</code></pre>
<p>Luckily, we are not limited to save only one number in an object. On the contrary, in most objects we will be working with, we will have multiple numbers. The code below will return a row of numbers from 1 to 10.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">1</span><span class="op">:</span><span class="dv">10</span></code></pre></div>
<pre><code> [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<p>We can save this row of numbers in an object (again using <code>&lt;-</code>), but we can also work with them directly, e.g. by taking every number in the row and add 2 to all of them.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">1</span><span class="op">:</span><span class="dv">10</span> <span class="op">+</span><span class="st"> </span><span class="dv">2</span></code></pre></div>
<pre><code> [1]  3  4  5  6  7  8  9 10 11 12</code></pre>
<p>When you will be working with more numbers, you have to tell <code>R</code> that you are working with multiple numbers. To do this, we use the function <code>c()</code>. This tells <code>R</code> that we are working with a vector.<a href="#fn2" class="footnoteRef" id="fnref2"><sup>2</sup></a> The function <code>c()</code> is short for <em>concatenate</em> or <em>combine</em>.<a href="#fn3" class="footnoteRef" id="fnref3"><sup>3</sup></a> Remember that everything happening in <code>R</code> happens with functions. A vector can look like this:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">2</span>)</code></pre></div>
<pre><code>[1] 2 2 2</code></pre>
<p>This is a <em>numerical</em> vector. A vector is a collection of values of the same type. We can save any vector in an object. In the code below we save four numbers (14, 6, 23, 2) in the object <code>x</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">14</span>, <span class="dv">6</span>, <span class="dv">23</span>, <span class="dv">2</span>)
x</code></pre></div>
<pre><code>[1] 14  6 23  2</code></pre>
<p>We can then use this vector to calculate new numbers (just as we did above with <code>1:10</code>), for example by multiplying all the numbers in the vector with 2.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x <span class="op">*</span><span class="st"> </span><span class="dv">2</span></code></pre></div>
<pre><code>[1] 28 12 46  4</code></pre>
<p>If we are only interested in a single value from the vector, we can get this value by using brackets, i.e. <code>[ ]</code>, which you place just after the object (so no space between the name of the object and the brackets!). By placing the number 3 in the brackets we get the third number in the object.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x[<span class="dv">3</span>]</code></pre></div>
<pre><code>[1] 23</code></pre>
<p>As you can see, we get the third element, 23. We can use the same procedure to get all values with the exception of one value by including a negative sign in the brackets. In the example below we will get all values except for 2. Also, note that since we are not assigning anything to an object (with <code>&lt;-</code>), we are not making any changes to <code>x</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x[<span class="op">-</span><span class="dv">2</span>]</code></pre></div>
<pre><code>[1] 14 23  2</code></pre>
<p>Now we can try to use a series of functions on our object. The functions below will return different types of information such as the median, the mean, the standard deviation etc.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">length</span>(x)     <span class="co"># length of vector, number of values</span>
<span class="kw">min</span>(x)        <span class="co"># minima value</span>
<span class="kw">max</span>(x)        <span class="co"># maxima value</span>
<span class="kw">median</span>(x)     <span class="co"># the median</span>
<span class="kw">sum</span>(x)        <span class="co"># the sum</span>
<span class="kw">mean</span>(x)       <span class="co"># the mean</span>
<span class="kw">var</span>(x)        <span class="co"># the variance</span>
<span class="kw">sd</span>(x)         <span class="co"># the standard deviation</span></code></pre></div>
<p>The functions should return the values 4, 2, 23, 10, 45, 11.25, 86.25 and 9.287088.</p>
<p>If we for some reason wants to add an extra number to our vector <code>x</code>, we can either create a new vector with all the numbers or just overwrite the existing vector with the addition of an extra number:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(x, <span class="dv">5</span>)
x</code></pre></div>
<pre><code>[1] 14  6 23  2  5</code></pre>
<p>We now have five values in our vector instead of four. The value 5 has the last place in the vector but if we had added 5 before <code>x</code> in the code above, 5 would have been in the beginning of the vector.</p>
<p>Try to use the <code>mean()</code> function on the new object <code>x</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mean</span>(x)</code></pre></div>
<pre><code>[1] 10</code></pre>
<p>Now the mean is 10 (before we added the value 5 to the object the mean was 11.25).</p>
</div>
<div id="missing-values-na" class="section level2">
<h2><span class="header-section-number">2.2</span> Missing values (<code>NA</code>)</h2>
<p>Up until now we have been lucky that all of our “data” has been easy to work with. However, in the real world - and thereby for most of the data we will work with - we will encounter missing values. In Stata you will see that missing values get a dot (‘.’). In <code>R</code>, all missing values are denoted <code>NA</code>. Let us try to add a missing value to our object <code>x</code> and take the mean.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(x, <span class="ot">NA</span>)

<span class="kw">mean</span>(x) </code></pre></div>
<pre><code>[1] NA</code></pre>
<p>We do not get a mean now but just <code>NA</code>. The reason for this is that <code>R</code> is unable to calculate the mean of a vector with a missing value included. In order for <code>R</code> to calculate the mean now, we need to specify that it should remove the missing values before calculating the mean. To do this, we add <code>na.rm=TRUE</code> as an <em>option</em> to the function. Most functions have a series of options (more on this later), and the default option for the <code>mean()</code> function is not to ignore the missing values.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mean</span>(x, <span class="dt">na.rm=</span><span class="ot">TRUE</span>)</code></pre></div>
<pre><code>[1] 10</code></pre>
<p>Now we get the same mean as before we added <code>NA</code> to the object.</p>
</div>
<div id="logical-operators" class="section level2">
<h2><span class="header-section-number">2.3</span> Logical operators</h2>
<p>In <code>R</code> a lot of what we will be doing is using logical operators, e.g. testing whether something is equal or similar to something else. This is in particular relevant when we have to recode objects and only use specific values. If something is true, we get the value <code>TRUE</code>, and if something is false, we get <code>FALSE</code>. Try to run the code below and see what information you get (and whether it makes sense).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="dv">2</span>

x <span class="op">==</span><span class="st"> </span><span class="dv">2</span>        <span class="co"># equal to</span>
x <span class="op">==</span><span class="st"> </span><span class="dv">3</span>        
x <span class="op">!=</span><span class="st"> </span><span class="dv">2</span>        <span class="co"># not equal to</span>
x <span class="op">&lt;</span><span class="st"> </span><span class="dv">1</span>         <span class="co"># less than</span>
x <span class="op">&gt;</span><span class="st"> </span><span class="dv">1</span>         <span class="co"># greater than</span>
x <span class="op">&lt;=</span><span class="st"> </span><span class="dv">2</span>        <span class="co"># less than or equal to</span>
x <span class="op">&gt;=</span><span class="st"> </span><span class="fl">2.01</span>     <span class="co"># greater than or equal to</span></code></pre></div>
<p>The script will return <code>TRUE</code>, <code>FALSE</code>, <code>FALSE</code>, <code>FALSE</code>, <code>TRUE</code>, <code>TRUE</code> and <code>FALSE</code>. If you change <code>x</code> to 3, the script will (logically) return other values.</p>
</div>
<div id="text-as-data" class="section level2">
<h2><span class="header-section-number">2.4</span> Text as data</h2>
<p>In addition to numbers we can and will also work with text. The difference between text and numbers in <code>R</code> is that we use quotation marks to indicate that something is text (and not an object).<a href="#fn4" class="footnoteRef" id="fnref4"><sup>4</sup></a> As an example, we will create an object called <code>p</code> with the political parties from the United Kingdom general election in 2017.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">p &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Conservative Party&quot;</span>, <span class="st">&quot;Labour Party&quot;</span>, <span class="st">&quot;Scottish National Party&quot;</span>, 
       <span class="st">&quot;Liberal Democrats&quot;</span>, <span class="st">&quot;Democratic Unionist Party&quot;</span>, <span class="st">&quot;Sinn Féin&quot;</span>) 

p</code></pre></div>
<pre><code>[1] &quot;Conservative Party&quot;        &quot;Labour Party&quot;             
[3] &quot;Scottish National Party&quot;   &quot;Liberal Democrats&quot;        
[5] &quot;Democratic Unionist Party&quot; &quot;Sinn Féin&quot;                </code></pre>
<p>To see what type of data we have in our object, <code>p</code>, we can use the function <code>class()</code>. This function returns information on the type of data we are having in the object. If we use the function on <code>p</code>, we can see that the object consists of characters (i.e. <em>“character”</em>).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(p)</code></pre></div>
<pre><code>[1] &quot;character&quot;</code></pre>
<p>To compare, we can do the same thing with our object <code>x</code>, which includes numerical values. Here we see that the function <code>class()</code> for <code>x</code> returns <code>&quot;numeric&quot;</code>. The different classes a vector can have are: <code>character</code> (text), <code>numeric</code> (numbers), <code>integer</code> (whole numbers), <code>factor</code> (categories) and <code>logical</code> (logical).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(x)</code></pre></div>
<pre><code>[1] &quot;numeric&quot;</code></pre>
<p>To test whether our object is numerical or not, we can use the function <code>is.numeric()</code>. If the object is numeric, we will get a <code>TRUE</code>. If not, we will get a <code>FALSE</code>. This logical structure can be used in a lot of different scenarios (as we will see later). Similar to <code>is.numeric()</code>, we have a function called <code>is.character()</code> that will show us whether the object is a charater or not.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">is.numeric</span>(x)
<span class="kw">is.character</span>(x)</code></pre></div>
<p>Try to use <code>is.numeric()</code> and <code>is.character()</code> on the object <code>p</code>.</p>
<p>To get the number of characters for each element in our object, we can use the function <code>nchar()</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">nchar</span>(p)</code></pre></div>
<pre><code>[1] 18 12 23 17 25  9</code></pre>
<p>We can also convert the characters in different ways. First, we can convert all characters to uppercase with <code>toupper()</code>. Second, we can concert all characters to lowercase with <code>tolower()</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">toupper</span>(p)</code></pre></div>
<pre><code>[1] &quot;CONSERVATIVE PARTY&quot;        &quot;LABOUR PARTY&quot;             
[3] &quot;SCOTTISH NATIONAL PARTY&quot;   &quot;LIBERAL DEMOCRATS&quot;        
[5] &quot;DEMOCRATIC UNIONIST PARTY&quot; &quot;SINN FÉIN&quot;                </code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">tolower</span>(p) </code></pre></div>
<pre><code>[1] &quot;conservative party&quot;        &quot;labour party&quot;             
[3] &quot;scottish national party&quot;   &quot;liberal democrats&quot;        
[5] &quot;democratic unionist party&quot; &quot;sinn féin&quot;                </code></pre>
<p>In the same way we could get specific values from the object when it was numeric, we can get specific values when it is a character object as well.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">p[<span class="dv">3</span>]</code></pre></div>
<pre><code>[1] &quot;Scottish National Party&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">p[<span class="op">-</span><span class="dv">3</span>]</code></pre></div>
<pre><code>[1] &quot;Conservative Party&quot;        &quot;Labour Party&quot;             
[3] &quot;Liberal Democrats&quot;         &quot;Democratic Unionist Party&quot;
[5] &quot;Sinn Féin&quot;                </code></pre>
<p>While <code>p</code> is a short name for an object and easy to write, it is not telling for what we actually have stored in the object. Let us create a new object called <code>party</code> with the same information as in <code>p</code>. When you name objects remember that they are case sensitive so <code>party</code> will be a different object than <code>Party</code>.<a href="#fn5" class="footnoteRef" id="fnref5"><sup>5</sup></a></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">party &lt;-<span class="st"> </span>p

party</code></pre></div>
<pre><code>[1] &quot;Conservative Party&quot;        &quot;Labour Party&quot;             
[3] &quot;Scottish National Party&quot;   &quot;Liberal Democrats&quot;        
[5] &quot;Democratic Unionist Party&quot; &quot;Sinn Féin&quot;                </code></pre>
</div>
<div id="data-frames" class="section level2">
<h2><span class="header-section-number">2.5</span> Data frames</h2>
<p>In most cases, we will not be working with one variable (e.g. information on party names) but multiple variables. To do this in an easy way, we can create <em>data frames</em> which is similar to a dataset in SPSS and Stata. The good thing about <code>R</code>, however, is that we can have multiple data frames open at the same time. The cost of this is that we have to specify, when we do something in <code>R</code>, exactly what data frame we are using.</p>
<p>Here we will create a data frame with more information about the parties from the United Kingdom general election, 2017.<a href="#fn6" class="footnoteRef" id="fnref6"><sup>6</sup></a></p>
<p>As a first step we can create new objects with more information: <code>leader</code> (information on the party leader), <code>votes</code> (the vote share in percent), <code>seats</code> (the number of seats) and <code>seats_change</code> (change in seats from the previous election). Do note that the order is important as we are going to link these objects together in a minute, where the first value in each object is for the Conservative Party, the second for the Labour Party and so on.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">leader &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Theresa May&quot;</span>, <span class="st">&quot;Jeremy Corbyn&quot;</span>, <span class="st">&quot;Nicola Sturgeon&quot;</span>, 
            <span class="st">&quot;Tim Farron&quot;</span>, <span class="st">&quot;Arlene Foster&quot;</span>, <span class="st">&quot;Gerry Adams&quot;</span>)
votes &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">42.4</span>, <span class="fl">40.0</span>, <span class="fl">3.0</span>, <span class="fl">7.4</span>, <span class="fl">0.9</span>, <span class="fl">0.7</span>)
seats &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">317</span>, <span class="dv">262</span>, <span class="dv">35</span>, <span class="dv">12</span>, <span class="dv">10</span>, <span class="dv">7</span>)
seats_change &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="op">-</span><span class="dv">13</span>, <span class="dv">30</span>, <span class="op">-</span><span class="dv">21</span>, <span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">3</span>)</code></pre></div>
<p>The next thing we have to do is to connect the objects into a single object, i.e. our data frame. A data frame is a collection of different vectors of the same length. In other words, for the objects we have above, as they have the same number of information, they can be connected in a data frame. <code>R</code> will return an error message if the vectors do not have the same length.</p>
<p>We can have different types of variables in a data frame, i.e. both numbers and text variables. To create our data frame, we will use the function <code>data.frame()</code> and save the data frame in the object <code>uk2017</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">uk2017 &lt;-<span class="st"> </span><span class="kw">data.frame</span>(party, leader, votes, seats, seats_change)

uk2017 <span class="co"># show the content of the data frame</span></code></pre></div>
<pre><code>                      party          leader votes seats seats_change
1        Conservative Party     Theresa May  42.4   317          -13
2              Labour Party   Jeremy Corbyn  40.0   262           30
3   Scottish National Party Nicola Sturgeon   3.0    35          -21
4         Liberal Democrats      Tim Farron   7.4    12            4
5 Democratic Unionist Party   Arlene Foster   0.9    10            2
6                 Sinn Féin     Gerry Adams   0.7     7            3</code></pre>
<p>To see what type of object we are working with, we can use the function <code>class()</code> again to show that <code>uk2017</code> is a data frame.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(uk2017)</code></pre></div>
<pre><code>[1] &quot;data.frame&quot;</code></pre>
<p>If we would like to know what class the individual variables in our data frame are, we can use the function <code>sapply()</code>. This function allows us to apply a function to a list or a vector. Below we apply <code>class()</code> on the individual variables in <code>uk2017</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sapply</span>(uk2017, class)</code></pre></div>
<pre><code>       party       leader        votes        seats seats_change 
    &quot;factor&quot;     &quot;factor&quot;    &quot;numeric&quot;    &quot;numeric&quot;    &quot;numeric&quot; </code></pre>
<p>Here we can see that we have data as a <code>factor</code> as well as numerical variables. We can get similar information about our data by using the function <code>str()</code>. This function returns information on the structure of the data frame.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(uk2017)</code></pre></div>
<pre><code>&#39;data.frame&#39;:   6 obs. of  5 variables:
 $ party       : Factor w/ 6 levels &quot;Conservative Party&quot;,..: 1 3 5 4 2 6
 $ leader      : Factor w/ 6 levels &quot;Arlene Foster&quot;,..: 5 3 4 6 1 2
 $ votes       : num  42.4 40 3 7.4 0.9 0.7
 $ seats       : num  317 262 35 12 10 7
 $ seats_change: num  -13 30 -21 4 2 3</code></pre>
<p>We can see that it is a data frame with 6 observations of 5 variables. If the rows (i.e. observations) have names, we can get these by using <code>rownames()</code>. We can get the names of the columns, i.e. the variables in our data frame, by using <code>colnames()</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">colnames</span>(uk2017)</code></pre></div>
<pre><code>[1] &quot;party&quot;        &quot;leader&quot;       &quot;votes&quot;        &quot;seats&quot;       
[5] &quot;seats_change&quot;</code></pre>
<p>If we want to see the number of columns and rows in our data frame, we can use <code>ncol()</code> and <code>nrow()</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ncol</span>(uk2017)</code></pre></div>
<pre><code>[1] 5</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">nrow</span>(uk2017)</code></pre></div>
<pre><code>[1] 6</code></pre>
<p>If we are working with bigger data frames, e.g. a survey with thousands of respondents, it might not be useful to show the full data frame. One way to see a few of the observations is by using <code>head()</code>. If not specified further, this function will show the first six observations in the data frame. In the example below, we will tell <code>R</code> to show the first three observations</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(uk2017, <span class="dv">3</span>)  <span class="co"># show the first three rows</span></code></pre></div>
<pre><code>                    party          leader votes seats seats_change
1      Conservative Party     Theresa May  42.4   317          -13
2            Labour Party   Jeremy Corbyn  40.0   262           30
3 Scottish National Party Nicola Sturgeon   3.0    35          -21</code></pre>
<p>In the same way, we can use <code>tail()</code> to show the last observations in a data frame. Here we see the last four observations in our data frame.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">tail</span>(uk2017, <span class="dv">4</span>)  <span class="co"># show the last four rows</span></code></pre></div>
<pre><code>                      party          leader votes seats seats_change
3   Scottish National Party Nicola Sturgeon   3.0    35          -21
4         Liberal Democrats      Tim Farron   7.4    12            4
5 Democratic Unionist Party   Arlene Foster   0.9    10            2
6                 Sinn Féin     Gerry Adams   0.7     7            3</code></pre>
<p>If you want to see your data frame in a new window, you can use the function <code>View()</code> (do note the capital letter V - not v).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">View</span>(uk2017)</code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:View"></span>
<img src="fig/View.png" alt="Data frame with View(), RStudio" scale=0.65 />
<p class="caption">
Figure 2.1: Data frame with View(), RStudio
</p>
</div>
<p>When you are working with variables in a data frame, you can use <code>$</code> as a <em>component selector</em> to select a variable in a data frame. This is the base R way, i.e. brackets and dollar signs. In the next chapter we will work with other functions that makes it easier to work with data frames.</p>
<p>If we, for example, want to have all the vote shares in our data frame <code>uk2017</code>, we can write <code>uk2017$votes</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">uk2017<span class="op">$</span>votes</code></pre></div>
<pre><code>[1] 42.4 40.0  3.0  7.4  0.9  0.7</code></pre>
<p>Contrary to working with a vector in a single dimension, we have two dimensions in a data frame (rows horisontally and columns vertically). Just as for a single vector, we need to work with the brackets, <code>[ ]</code>, in addition to our object. However, now we need to specify the rows <em>and</em> columns we are interested in. If we want to work with the first row, we need to specify <code>[1, ]</code> after the object. The comma is seperating the information on the rows and columns we want to work with. When we are not specifying anything after the comma, that means we want to have the information for <em>all</em> columns.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">uk2017[<span class="dv">1</span>,] <span class="co"># first row</span></code></pre></div>
<pre><code>               party      leader votes seats seats_change
1 Conservative Party Theresa May  42.4   317          -13</code></pre>
<p>Had we also added a number after the comma, we would get the information for that specific column. in the example below we want to have the information on the first row in the first column (i.e. the name of the party on the first row).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">uk2017[<span class="dv">1</span>, <span class="dv">1</span>] <span class="co"># first row, first column</span></code></pre></div>
<pre><code>[1] Conservative Party
6 Levels: Conservative Party Democratic Unionist Party ... Sinn Féin</code></pre>
<p>If we want to have the names of all parties, i.e. the information in the first column, we can specify that we want all rows but only for the first column.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">uk2017[, <span class="dv">1</span>] <span class="co"># first column</span></code></pre></div>
<pre><code>[1] Conservative Party        Labour Party             
[3] Scottish National Party   Liberal Democrats        
[5] Democratic Unionist Party Sinn Féin                
6 Levels: Conservative Party Democratic Unionist Party ... Sinn Féin</code></pre>
<p>Interestingly, the functions we have talked about so far can all be applied to data frames. The <code>summary()</code> function is very useful if you want to get an overview of all variables in your data frame. For the numerical variables in the data frame, the function will return information such as the mean and the median.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(uk2017)</code></pre></div>
<pre><code>                       party               leader      votes       
 Conservative Party       :1   Arlene Foster  :1   Min.   : 0.700  
 Democratic Unionist Party:1   Gerry Adams    :1   1st Qu.: 1.425  
 Labour Party             :1   Jeremy Corbyn  :1   Median : 5.200  
 Liberal Democrats        :1   Nicola Sturgeon:1   Mean   :15.733  
 Scottish National Party  :1   Theresa May    :1   3rd Qu.:31.850  
 Sinn Féin                :1   Tim Farron     :1   Max.   :42.400  
     seats        seats_change     
 Min.   :  7.0   Min.   :-21.0000  
 1st Qu.: 10.5   1st Qu.: -9.2500  
 Median : 23.5   Median :  2.5000  
 Mean   :107.2   Mean   :  0.8333  
 3rd Qu.:205.2   3rd Qu.:  3.7500  
 Max.   :317.0   Max.   : 30.0000  </code></pre>
<p>We can also use the functions on our variables as we did above, e.g. to get the maximum number of votes a party got with the function <code>max()</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">max</span>(uk2017<span class="op">$</span>votes)</code></pre></div>
<pre><code>[1] 42.4</code></pre>
<p>If we want to have the value of a specific variable in our data frame, we can use both <code>$</code> and <code>[ ]</code>. Below we get the second value in the variable <code>party</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">uk2017<span class="op">$</span>party[<span class="dv">2</span>]</code></pre></div>
<pre><code>[1] Labour Party
6 Levels: Conservative Party Democratic Unionist Party ... Sinn Féin</code></pre>
<p>To illustrate how we can combine a lot of what we have used above, we can get informatin on the name of the party that got the most votes. In order to do this, we specify that we would like to have the name of the party for the party where the number of votes equals the maximum number of votes. In other words, when <code>uk2017$votes</code> is equal to <code>max(uk2017$votes)</code>, we want to get the information on <code>uk2017$party</code>. We use the logical operator <code>==</code> to test whether something is equal to.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">uk2017<span class="op">$</span>party[uk2017<span class="op">$</span>votes <span class="op">==</span><span class="st"> </span><span class="kw">max</span>(uk2017<span class="op">$</span>votes)]</code></pre></div>
<pre><code>[1] Conservative Party
6 Levels: Conservative Party Democratic Unionist Party ... Sinn Féin</code></pre>
<p>As we can see, the Conservative Party got the most votes in the 2017 election. We can use the same procedure if we want to get information on the party that got the minimum number of votes. To do this we use <code>min()</code>. Here we can see that this is Sinn Féin in our data frame.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">uk2017<span class="op">$</span>party[uk2017<span class="op">$</span>votes <span class="op">==</span><span class="st"> </span><span class="kw">min</span>(uk2017<span class="op">$</span>votes)]</code></pre></div>
<pre><code>[1] Sinn Féin
6 Levels: Conservative Party Democratic Unionist Party ... Sinn Féin</code></pre>
<p>The sky is the limit when it comes to what we can do with data frames, including various types of statistical analyses. To give one example, we can use the <code>lm()</code> function to conduct an OLS regression with <code>votes</code> as the independent variable and <code>seats</code> as the dependent variable (more on this specific function in <code>R</code> later). First, we save the model in the object <code>uk2017_lm</code> and then use <code>summary()</code> to get the results.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">uk2017_lm &lt;-<span class="st"> </span><span class="kw">lm</span>(seats <span class="op">~</span><span class="st"> </span>votes, <span class="dt">data =</span> uk2017)

<span class="kw">summary</span>(uk2017_lm)</code></pre></div>
<pre><code>
Call:
lm(formula = seats ~ votes, data = uk2017)

Residuals:
      1       2       3       4       5       6 
 20.890 -17.105  18.054 -36.122   7.933   6.350 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)   -4.310     13.405  -0.321 0.763932    
votes          7.085      0.558  12.698 0.000222 ***
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Residual standard error: 24.81 on 4 degrees of freedom
Multiple R-squared:  0.9758,    Adjusted R-squared:  0.9697 
F-statistic: 161.2 on 1 and 4 DF,  p-value: 0.0002216</code></pre>
<p>The coefficient for <code>votes</code> is positive and statistically significant (<span class="math inline">\(p&lt;0.05\)</span>). In other words, as the vote share increases, so does the number of seats.</p>
</div>
<div id="import-and-export-data-frames" class="section level2">
<h2><span class="header-section-number">2.6</span> Import and export data frames</h2>
<p>Most of the data frames we will be working with in <code>R</code> are not data frames we will build from scratch but on the contrary data frames we will import from other files such as files made for Stata, SPSS or Excel. The most useful filetype to use when you work with data in files is <code>.csv</code>, which stands for <em>comma-separated values</em>. This is an open file format and can be opened in any software. To export and import data frames to <code>.csv</code> files, we can use <code>write.csv()</code> and <code>read.csv()</code>.</p>
<p>First of all we need to know where <code>R</code> is working from, i.e. what our <em>working directory</em> is. In other words, we need to tell <code>R</code> where it should be saving the file and - when we want to import a data frame - where to look for a file. To see where <code>R</code> is currently working from (the <em>working directory</em>) you can type <code>getwd()</code>. This will return the place where <code>R</code> is currently going to save the file if we do not change it.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">getwd</span>()</code></pre></div>
<p>If you would like to change this, you can use the function <code>setwd()</code>. This function allows you to change the working directory to whatever folder on your computer you would like to use. In the code below I change the working directory to the folder <code>book</code> in the folder <code>qpolr</code> in the Dropbox folder. Do also note that we are using forward slash (<code>/</code>) and not backslash (<code>\</code>).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">setwd</span>(<span class="st">&quot;/Dropbox/qpolr/book&quot;</span>)</code></pre></div>
<p>An easy way to control the working directory is to open an <code>R</code>-script directly from the folder you want to have as your working directory. Specifically, instead of opening RStudio and finding the script, find the script in your folder and open RStudio that way. This will automatically set the working directory to the folder with the <code>R</code>-script.</p>
<p>Once we know where we will save our data, we can use <code>write.csv()</code> to save the data. In the code below we first specify that we want to save the data frame <code>uk2017</code> and next the filename of the file (<code>uk2017.csv</code>).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">write.csv</span>(uk2017, <span class="st">&quot;uk2017.csv&quot;</span>)</code></pre></div>
<p>Do note that we need to put the file in quotation marks. Next, we can import the file into <code>R</code> the next time we open <code>R</code> with the function <code>read.csv()</code> and save the data frame in the object <code>uk2017</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">uk2017 &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;uk2017.csv&quot;</span>)</code></pre></div>
<p>As with most stuff in <code>R</code>, there are multiple ways of doing things. To import and export data, we have packages like <code>foreign</code> <span class="citation">(R Core Team, 2015)</span>, <code>rio</code> <span class="citation">(C. Chan, Chan, &amp; Leeper, 2016)</span> and <code>readr</code> <span class="citation">(H. Wickham &amp; Francois, 2015)</span>. If you install and load the package <code>rio</code>, you can use the functions <code>import()</code> and <code>export()</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># export data with the rio package</span>
<span class="kw">export</span>(uk2017, <span class="st">&quot;uk2017.csv&quot;</span>)

<span class="co"># import data with the rio package</span>
uk2017 &lt;-<span class="st"> </span><span class="kw">import</span>(<span class="st">&quot;uk2017.csv&quot;</span>)</code></pre></div>
</div>
<div id="environment" class="section level2">
<h2><span class="header-section-number">2.7</span> Environment</h2>
<p>We have worked with a series of different objects. To see what objects we have in our memory, we can look in the <em>Environment</em> window, but we can also use the function <code>ls()</code>(<em>ls</em> is short for <em>list objects</em>).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ls</span>()</code></pre></div>
<pre><code> [1] &quot;leader&quot;       &quot;p&quot;            &quot;party&quot;        &quot;seats&quot;       
 [5] &quot;seats_change&quot; &quot;uk2017&quot;       &quot;uk2017_lm&quot;    &quot;votes&quot;       
 [9] &quot;x&quot;            &quot;y&quot;           </code></pre>
<p>If we would like to remove an object from the memory, we can use the function <code>rm()</code> (<em>rm</em> is short for <em>remove</em>). Below we use <code>rm()</code> to remove the object <code>x</code> and then <code>ls()</code> to check whether <code>x</code> is gone.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rm</span>(x)

<span class="kw">ls</span>()</code></pre></div>
<pre><code>[1] &quot;leader&quot;       &quot;p&quot;            &quot;party&quot;        &quot;seats&quot;       
[5] &quot;seats_change&quot; &quot;uk2017&quot;       &quot;uk2017_lm&quot;    &quot;votes&quot;       
[9] &quot;y&quot;           </code></pre>
<p>If you would like to remove <em>everything</em> in the memory, you can use <code>ls()</code> in combination with <code>rm()</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rm</span>(<span class="dt">list =</span> <span class="kw">ls</span>())

<span class="kw">ls</span>()</code></pre></div>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>More specifically, <code>3</code>, <code>6</code>, <code>9</code> and <code>6</code>.<a href="2-basics.html#fnref1">↩</a></p></li>
<li id="fn2"><p>In the example with <code>1:10</code>, this is similar to writing <code>c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)</code> and <code>c(1:10)</code>. In other words, we have a hidden <code>c()</code> when we type <code>1:10</code>.<a href="2-basics.html#fnref2">↩</a></p></li>
<li id="fn3"><p><code>c()</code> creates a vector with <em>all</em> elements in the parenthesis. Since a vector can only have one type of data, and not both numbers and text (cf. next section), <code>c()</code> will ensure that all values are reduced to the level all values can work with. Consequently, if just one value is a letter and not a number, all values in the vector will be considered text.<a href="2-basics.html#fnref3">↩</a></p></li>
<li id="fn4"><p>Alternatively, you can use ’ instead of “. If you want more information on when you should use ’ instead of”, see <a href="http://style.tidyverse.org/syntax.html#quotes" class="uri">http://style.tidyverse.org/syntax.html#quotes</a>.<a href="2-basics.html#fnref4">↩</a></p></li>
<li id="fn5"><p>If you want more information on how to name objects, see <a href="http://style.tidyverse.org/syntax.html#object-names" class="uri">http://style.tidyverse.org/syntax.html#object-names</a>.<a href="2-basics.html#fnref5">↩</a></p></li>
<li id="fn6"><p>The information is taken from <a href="https://en.wikipedia.org/wiki/United_Kingdom_general_election,_2017" class="uri">https://en.wikipedia.org/wiki/United_Kingdom_general_election,_2017</a><a href="2-basics.html#fnref6">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="3-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": [["qpolr.pdf", "PDF"], ["qpolr.epub", "EPUB"]],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
